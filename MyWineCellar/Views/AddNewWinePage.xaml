<Page
    x:Class="MyWineCellar.Views.AddNewWinePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:core="using:Microsoft.Xaml.Interactions.Core"
    xmlns:interactivity="using:Microsoft.Xaml.Interactivity"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

	<Grid Padding="8" RowSpacing="8">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"></RowDefinition>
			<RowDefinition Height="Auto"></RowDefinition>
			<RowDefinition Height="Auto"></RowDefinition>
			<RowDefinition Height="Auto"></RowDefinition>
			<RowDefinition Height="Auto"></RowDefinition>
			<RowDefinition Height="Auto"></RowDefinition>
			<RowDefinition Height="Auto"></RowDefinition>
			<RowDefinition Height="Auto"></RowDefinition>
			<RowDefinition Height="Auto"></RowDefinition>
			<RowDefinition Height="*"></RowDefinition>
		</Grid.RowDefinitions>

		<TextBox x:Name="TextBoxProducer" Grid.Row="0" Header="Producteur *" InputScope="Text" PlaceholderText="Producteur"
		         Text="{x:Bind AddNewWineViewModel.Wine.Producer, Mode=TwoWay}" Description="{x:Bind AddNewWineViewModel.ProducerErrorMessage, Mode=OneWay}">
			<interactivity:Interaction.Behaviors>
				<core:EventTriggerBehavior EventName="LostFocus" SourceObject="{Binding ElementName=TextBoxProducer}">
					<core:InvokeCommandAction Command="{x:Bind AddNewWineViewModel.CheckProducerValidityCommand, Mode=OneWay}"/>
				</core:EventTriggerBehavior>
			</interactivity:Interaction.Behaviors>
		</TextBox>
		<TextBox Grid.Row="1" Header="Pays *" InputScope="Text" PlaceholderText="Pays" Text="{x:Bind AddNewWineViewModel.Wine.Country, Mode=TwoWay}"/>
		<TextBox Grid.Row="2" Header="Région *" InputScope="Text" PlaceholderText="Région" Text="{x:Bind AddNewWineViewModel.Wine.Region, Mode=TwoWay}"/>
		<TextBox Grid.Row="3" Header="Appellation *" InputScope="Text" PlaceholderText="Appellation" Text="{x:Bind AddNewWineViewModel.Wine.Appellation, Mode=TwoWay}"/>
		<TextBox Grid.Row="4" Header="Parcelle *" InputScope="Text" PlaceholderText="Parcelle" Text="{x:Bind AddNewWineViewModel.Wine.Parcel, Mode=TwoWay}"/>

		<StackPanel Grid.Row="5" Orientation="Vertical">
			<Grid ColumnSpacing="8">
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="*"/>
				</Grid.ColumnDefinitions>
				<TextBox Grid.Column="0" Header="Millésime *" InputScope="Number" PlaceholderText="Millésime" Text="{x:Bind AddNewWineViewModel.Wine.Vintage, Mode=TwoWay}"/>
				<TextBox Grid.Column="1" Header="Quantité *" InputScope="Number" PlaceholderText="Quantité" Text="{x:Bind AddNewWineViewModel.Wine.Quantity, Mode=TwoWay}"/>
			</Grid>
		</StackPanel>

		<ComboBox Grid.Row="6" Header="Couleur *" PlaceholderText="Couleur" HorizontalAlignment="Stretch">
			<x:String>Rouge</x:String>
			<x:String>Blanc</x:String>
			<x:String>Rosé</x:String>
		</ComboBox>

		<StackPanel Grid.Row="7" Orientation="Vertical">
			<Grid ColumnSpacing="8">
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="*"/>
				</Grid.ColumnDefinitions>
				<TextBox Grid.Column="0" Header="Prix" InputScope="CurrencyAmount" PlaceholderText="Prix" Text="{x:Bind AddNewWineViewModel.Wine.Price, Mode=TwoWay}"/>
				<CalendarDatePicker Grid.Column="1" Header="Date acquisition *" PlaceholderText="JJ/MM/AAAA" HorizontalAlignment="Stretch"/>
			</Grid>
		</StackPanel>

		<ComboBox Grid.Row="8" Header="Moyen acquisition *" PlaceholderText="Moyen acquisition" HorizontalAlignment="Stretch">
			<x:String>Achat chez le producteur</x:String>
			<x:String>Achat chez un caviste</x:String>
			<x:String>Achat en grande surface</x:String>
			<x:String>Achat sur Internet</x:String>
			<x:String>Achat sur une foire</x:String>
			<x:String>Cadeau</x:String>
		</ComboBox>
		<Button x:Name="ButtonAddNewWine"
		        Grid.Row="9"
		        Content="Ajouter"
		        HorizontalAlignment="Stretch"
		        VerticalAlignment="Bottom"
		        Command="{x:Bind AddNewWineViewModel.AddNewWineCommand, Mode=OneWay}"
		        IsEnabled="{x:Bind AddNewWineViewModel.AddNewWineButtonIsEnabled, Mode=OneWay}"/>
	</Grid>
</Page>