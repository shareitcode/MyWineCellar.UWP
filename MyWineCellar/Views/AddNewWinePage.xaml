<Page
    x:Class="MyWineCellar.Views.AddNewWinePage"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:converters="using:MyWineCellar.Converters"
	xmlns:controls="using:MyWineCellar.Controls"
	mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

	<Page.Resources>
		<converters:BooleanToVisibleConverter x:Key="VisibilityConverter" />
		<converters:ShortToStringEmptyConverter x:Key="ShortConverter" />
		<converters:DoubleToStringConverter x:Key="DoubleConverter" />
	</Page.Resources>

	<Grid Padding="8" RowSpacing="8">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"></RowDefinition>
			<RowDefinition Height="Auto"></RowDefinition>
			<RowDefinition Height="Auto"></RowDefinition>
			<RowDefinition Height="*"></RowDefinition>
		</Grid.RowDefinitions>

		<StackPanel Grid.Row="0" Orientation="Vertical">
			<Grid RowSpacing="8">
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto"></RowDefinition>
					<RowDefinition Height="Auto"></RowDefinition>
					<RowDefinition Height="Auto"></RowDefinition>
					<RowDefinition Height="Auto"></RowDefinition>
					<RowDefinition Height="Auto"></RowDefinition>
				</Grid.RowDefinitions>

				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="2*"/>
				</Grid.ColumnDefinitions>

				<!--<TextBox x:Name="TextBoxProducer" Grid.Column="1"  Grid.Row="0" Header="Producteur *" InputScope="Text" PlaceholderText="Château Moulin de Laborde"
					         BorderBrush="{x:Bind AddNewWineViewModel.ProducerTextBoxBordersColor, Mode=OneWay}" BorderThickness="1"
					         Text="{x:Bind AddNewWineViewModel.Wine.Producer, Mode=TwoWay}">
					<TextBox.Description>
						<TextBlock Text="{x:Bind AddNewWineViewModel.ErrorMessage, Mode=OneWay}" Foreground="Red"
							       Visibility="{x:Bind AddNewWineViewModel.ProducerErrorMessageIsVisible, Mode=OneWay, Converter={StaticResource VisibilityConverter}}"/>
					</TextBox.Description>
				</TextBox>-->
				<controls:TextBoxValidator x:Name="TextBoxProducer" Grid.Column="1"  Grid.Row="0" Header="Producteur *" PlaceholderText="Château Moulin de Laborde"
				                           Text="{x:Bind AddNewWineViewModel.Wine.Producer, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
				                           IsValidate="{x:Bind AddNewWineViewModel.ProducerErrorMessageIsVisible, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
				<TextBox x:Name="TextBoxCountry" Grid.Column="1" Grid.Row="1" Header="Pays *" InputScope="Text" PlaceholderText="France"
				         BorderBrush="{x:Bind AddNewWineViewModel.CountryTextBoxBordersColor, Mode=OneWay}" BorderThickness="1"
				         Text="{x:Bind AddNewWineViewModel.Wine.Country, Mode=TwoWay}">
					<TextBox.Description>
						<TextBlock Text="{x:Bind AddNewWineViewModel.ErrorMessage, Mode=OneWay}" Foreground="Red"
						           Visibility="{x:Bind AddNewWineViewModel.CountryErrorMessageIsVisible, Mode=OneWay, Converter={StaticResource VisibilityConverter}}"/>
					</TextBox.Description>
				</TextBox>
				<TextBox x:Name="TextBoxRegion" Grid.Column="1" Grid.Row="2" Header="Région *" InputScope="Text" PlaceholderText="Gironde"
				         BorderBrush="{x:Bind AddNewWineViewModel.RegionTextBoxBordersColor, Mode=OneWay}" BorderThickness="1"
				         Text="{x:Bind AddNewWineViewModel.Wine.Region, Mode=TwoWay}">
					<TextBox.Description>
						<TextBlock Text="{x:Bind AddNewWineViewModel.ErrorMessage, Mode=OneWay}" Foreground="Red"
						           Visibility="{x:Bind AddNewWineViewModel.RegionErrorMessageIsVisible, Mode=OneWay, Converter={StaticResource VisibilityConverter}}"/>
					</TextBox.Description>
				</TextBox>
				<TextBox x:Name="TextBoxAppellation" Grid.Column="1" Grid.Row="3" Header="Appellation *" InputScope="Text" PlaceholderText="Haut-Médoc"
				         BorderBrush="{x:Bind AddNewWineViewModel.AppellationTextBoxBordersColor, Mode=OneWay}" BorderThickness="1"
				         Text="{x:Bind AddNewWineViewModel.Wine.Appellation, Mode=TwoWay}">
					<TextBox.Description>
						<TextBlock Text="{x:Bind AddNewWineViewModel.ErrorMessage, Mode=OneWay}" Foreground="Red"
						           Visibility="{x:Bind AddNewWineViewModel.AppellationErrorMessageIsVisible, Mode=OneWay, Converter={StaticResource VisibilityConverter}}"/>
					</TextBox.Description>
				</TextBox>
				<TextBox x:Name="TextBoxParcel" Grid.Column="1" Grid.Row="4" Header="Parcelle *" InputScope="Text" PlaceholderText="Cru Bourgeois"
				         BorderBrush="{x:Bind AddNewWineViewModel.ParcelTextBoxBordersColor, Mode=OneWay}" BorderThickness="1"
				         Text="{x:Bind AddNewWineViewModel.Wine.Parcel, Mode=TwoWay}">
					<TextBox.Description>
						<TextBlock Text="{x:Bind AddNewWineViewModel.ErrorMessage, Mode=OneWay}" Foreground="Red"
						           Visibility="{x:Bind AddNewWineViewModel.ParcelErrorMessageIsVisible, Mode=OneWay, Converter={StaticResource VisibilityConverter}}"/>
					</TextBox.Description>
				</TextBox>
			</Grid>
		</StackPanel>

		<StackPanel Grid.Row="1" Orientation="Vertical">
			<Grid ColumnSpacing="8">
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="*"/>
				</Grid.ColumnDefinitions>
				<TextBox x:Name="TextBoxVintage" Grid.Column="0" Header="Millésime *" InputScope="Number" PlaceholderText="20000" VerticalAlignment="Top"
				         BorderBrush="{x:Bind AddNewWineViewModel.VintageTextBoxBordersColor, Mode=OneWay}" BorderThickness="1"
				         Text="{x:Bind AddNewWineViewModel.Wine.Vintage, Mode=TwoWay, Converter={StaticResource ShortConverter}}">
					<TextBox.Description>
						<TextBlock Text="{x:Bind AddNewWineViewModel.ErrorMessage, Mode=OneWay}" Foreground="Red"
						           Visibility="{x:Bind AddNewWineViewModel.VintageErrorMessageIsVisible, Mode=OneWay, Converter={StaticResource VisibilityConverter}}"/>
					</TextBox.Description>
				</TextBox>
				<TextBox x:Name="TextBoxQuantity" Grid.Column="1" Header="Quantité *" InputScope="Number" PlaceholderText="6" VerticalAlignment="Top"
				         BorderBrush="{x:Bind AddNewWineViewModel.QuantityTextBoxBordersColor, Mode=OneWay}" BorderThickness="1"
				         Text="{x:Bind AddNewWineViewModel.Wine.Quantity, Mode=TwoWay, Converter={StaticResource ShortConverter}}">
					<TextBox.Description>
						<TextBlock Text="{x:Bind AddNewWineViewModel.ErrorMessage, Mode=OneWay}" Foreground="Red"
						           Visibility="{x:Bind AddNewWineViewModel.QuantityErrorMessageIsVisible, Mode=OneWay, Converter={StaticResource VisibilityConverter}}"/>
					</TextBox.Description>
				</TextBox>
				<ComboBox Grid.Column="2" Header="Couleur *" PlaceholderText="Couleur" HorizontalAlignment="Stretch"
				          ItemsSource="{x:Bind AddNewWineViewModel.WineColors, Mode=OneWay}"
				          SelectedIndex="{x:Bind AddNewWineViewModel.WineColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
				<TextBox Grid.Column="3" Header="Prix" InputScope="CurrencyAmount" PlaceholderText="20" VerticalAlignment="Top"
				         Text="{x:Bind AddNewWineViewModel.Wine.Price, Mode=TwoWay, Converter={StaticResource DoubleConverter}}"/>
			</Grid>
		</StackPanel>

		<StackPanel Grid.Row="2" Orientation="Vertical">
			<Grid ColumnSpacing="8">
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="*"/>
				</Grid.ColumnDefinitions>
				<CalendarDatePicker Grid.Column="0" Header="Date acquisition *" PlaceholderText="JJ/MM/AAAA" HorizontalAlignment="Stretch"/>
				<ComboBox Grid.Column="1" Header="Moyen acquisition *" PlaceholderText="Moyen acquisition" HorizontalAlignment="Stretch">
					<x:String>Achat chez le producteur</x:String>
					<x:String>Achat chez un caviste</x:String>
					<x:String>Achat en grande surface</x:String>
					<x:String>Achat sur Internet</x:String>
					<x:String>Achat sur une foire</x:String>
					<x:String>Cadeau</x:String>
				</ComboBox>
			</Grid>
		</StackPanel>

		<Button x:Name="ButtonAddNewWine"
		        Grid.Row="3"
		        Content="Ajouter"
		        HorizontalAlignment="Stretch"
		        VerticalAlignment="Bottom"
		        Command="{x:Bind AddNewWineViewModel.AddNewWineCommand, Mode=OneWay}"
		        IsEnabled="{x:Bind AddNewWineViewModel.AddNewWineButtonIsEnabled, Mode=OneWay}"/>
	</Grid>
</Page>